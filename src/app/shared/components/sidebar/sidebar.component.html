<div class="h-full w-full flex flex-col">
    <!-- Standard Sidebar (visible on larger screens) -->
    <div 
      class="hidden sm:flex h-full flex-col"
      *ngIf="!isOpen || !isMobileView"
    >
      <!-- Categories Header and List -->
      <div class="flex-grow overflow-auto p-4">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-lg font-semibold">Categories</h2>
        </div>
  
        @if (categories) {
          <ul class="space-y-2 text-sm">
            @for (category of categories; track $index) {
              <li 
                class="flex items-center px-2 py-1 rounded cursor-pointer"
                [class.hover:bg-gray-100]="category !== selectedCategory"
                [class.bg-yellow-300]="category === selectedCategory"
                (click)="selectCategory(category)"
              >
                <span class="mr-2 text-xl">
                  {{ getFirstEmoji(category) }}
                </span>
                {{ category | categoryTransform }}
              </li>
            }
          </ul>
        } @else {
          <p>Loading categories...</p>
        }
      </div>
    </div>
  
    <!-- Full-Screen Sidebar (visible on smaller screens) -->
    <div 
      class="fixed inset-0 bg-white z-50 sm:hidden"
      *ngIf="isOpen && isMobileView"
    >
      <div class="flex-grow overflow-auto p-4">
        <div class="flex items-center justify-between mb-4">
          <h2 class="text-lg font-semibold">Categories</h2>
          <button
            class="p-2 text-gray-500 hover:text-gray-800"
            aria-label="Close sidebar"
            (click)="closeSidebar()"
          >
            <svg 
              xmlns="http://www.w3.org/2000/svg"
              class="h-6 w-6" 
              fill="none" 
              viewBox="0 0 24 24" 
              stroke="currentColor" 
              stroke-width="2"
            >
              <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
            </svg>
          </button>
        </div>
  
        @if (categories) {
          <ul class="space-y-2 text-sm">
            @for (category of categories; track $index) {
              <li 
                class="flex items-center px-2 py-1 rounded cursor-pointer"
                [class.hover:bg-gray-100]="category !== selectedCategory"
                [class.bg-yellow-300]="category === selectedCategory"
                (click)="selectCategory(category)"
              >
                <span class="mr-2 text-xl">
                  {{ getFirstEmoji(category) }}
                </span>
                {{ category | categoryTransform }}
              </li>
            }
          </ul>
        } @else {
          <p>Loading categories...</p>
        }
      </div>
    </div>
  
    <!-- Footer -->
    <div class="w-full h-8 flex items-center justify-center text-xs bg-gray-100 border-t">
      Made with ❤️ by
      <a
        href="https://tiagobarracha.netlify.app/"
        target="_blank"
        rel="noopener noreferrer"
        class="ml-1 text-blue-500 hover:underline"
      >
        Tiago Barracha
      </a>
    </div>
  </div>
  